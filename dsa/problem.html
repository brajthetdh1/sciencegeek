<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Problem - DSA Explorer</title>
  <meta name="description" content="Interactive DSA problem with example, approach, Java solution, and visualization.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-900">
<main class="container mx-auto p-4">
  <a href="index.html" class="text-blue-600 hover:underline mb-4 inline-block">‚Üê Back to list</a>
  <article>
    <h1 id="title" class="text-2xl font-bold mb-2"></h1>
    <div class="mb-4"><strong>Difficulty:</strong> <span id="difficulty"></span></div>
    <section class="mb-4">
      <h2 class="text-xl font-semibold">Statement</h2>
      <p id="statement" class="mb-2"></p>
    </section>
    <section class="mb-4">
      <h2 class="text-xl font-semibold">Examples</h2>
      <ul id="examples" class="list-disc pl-5"></ul>
    </section>
    <section class="mb-4">
      <h2 class="text-xl font-semibold">Approach</h2>
      <p id="approach" class="mb-2"></p>
    </section>
    <section class="mb-4">
      <h2 class="text-xl font-semibold">Java Solution</h2>
      <pre id="code" class="bg-gray-200 p-2 rounded overflow-auto"></pre>
    </section>
    <section class="mb-4">
      <h2 class="text-xl font-semibold">Visualization</h2>
      <canvas id="canvas" class="border border-gray-300 w-full h-64 mb-2"></canvas>
      <div>
        <label>Input: <input id="input" class="border rounded p-1" value="10,9,2,5,3,7,101,18"></label>
        <button id="run" class="bg-blue-600 text-white px-3 py-1 rounded ml-2">Run</button>
      </div>
    </section>
  </article>
</main>
<script src="js/problems.js"></script>
<script>
  const params = new URLSearchParams(location.search);
  const id = params.get("id");
  const problem = problems.find(p => p.id === id);

  if (!problem) {
    document.body.innerHTML = "<h2>Problem not found</h2>";
  } else {
    document.getElementById("title").innerText = problem.title;
    document.getElementById("difficulty").innerText = problem.difficulty;
    document.getElementById("statement").innerText = problem.statement;
    problem.examples.forEach(ex => {
      const li = document.createElement("li");
      li.innerText = ex;
      document.getElementById("examples").appendChild(li);
    });
    document.getElementById("approach").innerText = problem.approach;
    document.getElementById("code").innerText = problem.javaSolution;

    if(problem.visualizer){
      const script = document.createElement('script');
      script.src = `js/${problem.visualizer}.js`;
      document.body.appendChild(script);
    }
  }
</script>
</body>
</html>